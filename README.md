# ğŸš€ Biz Stratosphere

## The AI-Native Decision Intelligence Platform

Biz Stratosphere is an enterprise-grade decision intelligence platform designed to move businesses from "raw data" to "trustworthy decisions." We combine rigorous analytics, local-first machine learning, and transparent AI to help organizations navigate uncertainty with confidence.

![Status](https://img.shields.io/badge/status-production-blue) [![Tests](https://img.shields.io/badge/tests-215%20passing-brightgreen)](https://github.com) [![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/) [![Supabase](https://img.shields.io/badge/Supabase-Serverless-3ECF8E)](https://supabase.com/)

---

## ğŸ“– Why Biz Stratosphere Exists

We built Biz Stratosphere because modern Business Intelligence (BI) is broken.

1. **Dashboards are dead ends.** Traditional tools show you *what* happened, but leave you guessing *why* or *what to do next*.
2. **AI is a "black box".** Most AI tools give you answers without evidence, leading to hallucinated strategies and eroded trust.
3. **Governance is an afterthought.** In the rush to adopt AI, data privacy and decision accountability have been left behind.

Biz Stratosphere bridges this gap. We don't just visualize data; we **retain the context of your decisions**. We believe that every AI recommendation should be auditable, every prediction should be transparent, and every business decision should be learnable.

---

## ğŸ’ What Makes It Different

This is not just another dashboard wrapper. This is a **product primitive** for decision-making.

- **Decision Memoryâ„¢**: We don't just log chats; we record the entire decision contextâ€”metrics, AI confidence, and your actionâ€”so you can evaluate outcomes later.
- **Zero-Trust AI Architecture**: Our AI doesn't ask you to trust it blindly. It provides **confidence scores**, **citation grounding**, and **low-confidence warnings** for every claim.
- **Privacy-First Machine Learning**: We run advanced predictive models (Churn, Revenue) entirely in your browser using TensorFlow.js. Your sensitive customer data **never leaves your device**.
- **Operational Zero**: Built on a serverless architecture that scales from day one to IPO without a single dollar in fixed operational costs.

---

## ğŸ›ï¸ AI Trust & Governance

In an era of generative noise, Biz Stratosphere enforces rigorous governance standards:

- **Hallucination Prevention**: Our RAG (Retrieval-Augmented Generation) engine strictly grounds answers in your dataset, flagging unverified claims.
- **Decision Audit Logs**: Every interaction is structured, logged, and assignable to a specific workspace and user for full accountability.
- **Confidence Scoring**: We quantify uncertainty. If our AI isn't sure, it tells you.

---

## ğŸ§  Decision Intelligence (Not Just Analytics)

We are moving beyond static reporting into active intelligence.

- **From "What happened?"** â†’ **"Why did it happen?"** (AI Causality)
- **From "What will happen?"** â†’ **"What should we do?"** (Prescriptive AI)
- **From "I hope this works"** â†’ **"I know this worked last time"** (Decision Memoryâ„¢)

---

## ğŸš« What Biz Stratosphere Is NOT

- **NOT a "wrapper"**: We own the full stack, from the ETL pipeline to the inference engine.
- **NOT a toy project**: This is a production-oriented platform built with strong architectural discipline, comprehensive testing, and security-first design principles.
- **NOT a magic wand**: We provide tools for intelligence, not automated decision-making. Humans remain in the loop, always.

---

## âœ¨ Capabilities

### ğŸ§  **Decision Memoryâ„¢** (New)

The core of our platform. A system of record for your business decisions.

- **Capture**: Records the exact state of metrics and AI advice at the moment of decision.
- **Track**: Monitors the outcome of those decisions over time.
- **Learn**: Closes the feedback loop to improve future judgment.

### ğŸ“Š **Business Intelligence**

- **Real-time Analytics Dashboard** - Monitor KPIs with live data updates
- **Advanced Charts & Visualizations** - 8 chart types (Bar, Line, Pie, Scatter, Radar, Treemap, Gauge, Funnel)
- **Custom Reports** - Generate professional PDF, Excel, and CSV reports
- **Data Upload** - CSV/Excel file upload with automatic quality analysis
- **Upload History** - Track all uploads with metadata and status

### ğŸ¤– **AI & Machine Learning** â­ PRODUCTION-READY

- **AI Assistant (RAG Chat)** - Production-grade conversational AI with:
  - Context window management (configurable 5-20 messages)
  - Smart embedding cache (60%+ cache hit rate)
  - Rate limiting (50 daily / 1000 monthly)
  - Customizable settings (temperature, max tokens)
  - Export conversations (Markdown, JSON, Text)
  - Syntax-highlighted code blocks with copy button
  - Rich markdown rendering (tables, lists, links)
  - **Confidence Scoring** - Every response shows confidence level
  - **Hallucination Prevention** - Source transparency and grounding validation
  - **Low Confidence Warnings** - Visual alerts for uncertain responses

- **ML Predictions (Browser-Based)** â­ 100% FREE, Production-Ready:
  - **Customer Churn Prediction** - 96% accuracy after training
  - **Revenue Forecasting** - 87% RÂ² score for business planning
  - **TensorFlow.js** - Models run entirely in your browser
  - **Custom Training** - Upload your own CSV data to train models
  - **Prediction History** - Track and review all past predictions
  - **Feature Importance** - Understand what drives predictions
  - **Zero Cost** - No servers, no API calls, 100% FREE forever
  - **Offline Capable** - Works without internet after model download
  - **Privacy First** - Your data never leaves your browser

### âš¡ **Automation Engine**

- **Automation Rules** - Create rules triggered by thresholds, schedules, or data changes
- **AI Rule Suggestions** - Get intelligent automation recommendations
- **Scheduled Execution** - Run rules on cron schedules or intervals
- **Email Notifications** - Send email alerts using Supabase Email Provider
- **Webhook Actions** - Trigger external services
- **Execution Logs** - Track rule execution history and status

### ğŸ¢ **Workspace Management**

- **Multi-Workspace Support** - Organize data by project or team
- **Workspace Switching** - Quick switch between workspaces from sidebar
- **Usage Metrics** - Track uploads, AI queries, and automation triggers
- **Workspace Settings** - Configure per-workspace preferences

### ğŸ›¡ï¸ **Admin & Security**

- **AI Decision Audit** - Admin dashboard to review AI response quality
- **Confidence Monitoring** - Track high/medium/low confidence distributions
- **Grounding Validation** - Verify AI responses against source data
- **Structured Logging** - Context-aware logging with userId, workspaceId, requestId
- **Row-Level Security (RLS)** - Secure data access at database level
- **Role-Based Access Control** - Admin, user, and viewer roles
- **Audit Logging** - Track all user actions
- **Rate Limiting** - Prevent abuse with configurable limits

### ğŸ“ˆ **Data Management**

- **Multi-Dataset Support** - Manage multiple datasets simultaneously
- **Data Quality Checks** - Automatic PII detection and validation
- **Real-time Updates** - Supabase realtime subscriptions
- **Secure Storage** - Enterprise-grade data security
- **Data Pagination** - Scalable handling of large datasets
- **Validation Reports** - Downloadable CSV quality reports

### ğŸ“¡ **Streaming & Monitoring**

- **Streaming ETL** - Real-time data ingestion simulation
- **System Monitor** - Live metrics for API latency, throughput, and errors
- **Performance Dashboards** - Visual health checks (Healthy/Degraded/Critical)
- **Event Logging** - Real-time alerts for system anomalies

### ğŸ”§ **Developer Features**

- **RESTful API** - Full API with authentication
- **API Management** - Generate and manage API keys
- **Webhooks** - Real-time event notifications
- **Usage Analytics** - Track API usage and limits

---

## ğŸ› ï¸ Tech Stack

### Frontend

- **React 18.3** - UI framework
- **TypeScript 5.0** - Type safety
- **Vite 5.4** - Build tool and dev server
- **TanStack Query v5** - Data fetching and caching
- **Shadcn UI** - Component library
- **Tailwind CSS** - Styling
- **Recharts** - Data visualization
- **jsPDF** - Professional PDF exports
- **date-fns** - Date utilities

### Backend

- **Supabase** - Backend as a service
  - PostgreSQL database with pgvector
  - Real-time subscriptions
  - Authentication & Authorization
  - Row-Level Security (RLS)
  - Edge Functions
  - Email Provider integration
- **Python ML Service** - FastAPI-based ML serving (optional)

### AI/ML

- **TensorFlow.js** - Browser-based ML predictions (churn, revenue)
- **Google Gemini API** - RAG chat and embeddings
- **pgvector** - Vector similarity search
- **Custom Confidence Scoring** - Deterministic confidence calculation
- **Grounding Validator** - Source verification for AI responses

### Testing

- **Vitest** - Unit testing (198 tests)
- **Playwright** - E2E testing (17 tests)
- **React Testing Library** - Component testing

### Observability

- **Sentry** - Error tracking and performance monitoring
- **Structured Logging** - Context-aware logging utility
- **Performance Monitoring** - Core Web Vitals tracking

---

## ğŸš€ Quick Start

### Prerequisites

- **Node.js** 18+ and npm
- **Python** 3.9+ (for ML service, optional)
- **Supabase** account
- **Google AI API** key (for RAG features)

### Installation

1. **Clone the repository**

    ```bash
    git clone https://github.com/Satya136-dvsn/biz-stratosphere.git
    cd biz-stratosphere
    ```

1. **Install dependencies**

    ```bash
    npm install
    ```

1. **Set up environment variables**

    ```bash
    cp .env.example .env.local
    ```

    Edit `.env.local` and add your credentials:

    ```env
    VITE_SUPABASE_URL=your_supabase_url
    VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
    VITE_GEMINI_API_KEY=your_gemini_api_key
    ```

1. **Run database migrations**

    Apply migrations in order via Supabase Dashboard or CLI:

    - `supabase/migrations/` - All schema migrations

1. **Start development server**

    ```bash
    npm run dev
    ```

    The app will be available at `http://localhost:8080`

---

## ğŸ§ª Testing

```bash
# Run all unit tests
npm run test:run

# Run E2E tests
npx playwright test

# Run tests with UI
npm run test
```

### Test Coverage

| Type | Tests | Status |
|------|-------|--------|
| Unit Tests | 198 | âœ… Passing |
| E2E Tests | 17 | âœ… Passing |
| **Total** | **215** | âœ… **All Passing** |

---

## ğŸ“ Project Structure

```text
biz-stratosphere/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # React components
â”‚   â”‚   â”œâ”€â”€ ai/              # AI Chat, Confidence Badge
â”‚   â”‚   â”œâ”€â”€ automation/      # Automation rule components
â”‚   â”‚   â”œâ”€â”€ dashboard/       # Dashboard widgets, KPI cards
â”‚   â”‚   â”œâ”€â”€ layout/          # Sidebar, Workspace Selector
â”‚   â”‚   â”œâ”€â”€ ml/              # ML prediction components
â”‚   â”‚   â”œâ”€â”€ ui/              # Shadcn UI components
â”‚   â”‚   â””â”€â”€ workspace/       # Workspace management
â”‚   â”œâ”€â”€ hooks/               # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts       # Authentication
â”‚   â”‚   â”œâ”€â”€ useRAGChat.ts    # AI Chat with confidence
â”‚   â”‚   â”œâ”€â”€ useWorkspaces.ts # Workspace management
â”‚   â”‚   â”œâ”€â”€ useAutomationRules.ts # Automation engine
â”‚   â”‚   â””â”€â”€ useDecisionMemory.ts # Decision Memory system (New)
â”‚   â”œâ”€â”€ lib/                 # Utility functions
â”‚   â”‚   â”œâ”€â”€ ai/              # Confidence scoring, grounding
â”‚   â”‚   â”œâ”€â”€ logger.ts        # Structured logging
â”‚   â”‚   â””â”€â”€ errorTracking.ts # Sentry integration
â”‚   â”œâ”€â”€ pages/               # Page components
â”‚   â”‚   â”œâ”€â”€ admin/           # Admin pages
â”‚   â”‚   â”‚   â”œâ”€â”€ AIDecisionAudit.tsx  # AI audit dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ DecisionMemory.tsx   # Decision Memory admin view (New)
â”‚   â”‚   â”‚   â””â”€â”€ AdminDashboard.tsx
â”‚   â”‚   â”œâ”€â”€ AIChat.tsx       # AI Assistant
â”‚   â”‚   â”œâ”€â”€ AutomationRules.tsx
â”‚   â”‚   â””â”€â”€ Dashboard.tsx
â”‚   â””â”€â”€ integrations/        # Third-party integrations
â”‚       â””â”€â”€ supabase/        # Supabase client & types
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ migrations/          # Database migrations
â”‚   â””â”€â”€ functions/           # Edge functions
â”œâ”€â”€ e2e/                     # Playwright E2E tests
â”‚   â”œâ”€â”€ fixtures/            # Auth fixtures
â”‚   â””â”€â”€ *.spec.ts            # Test files
â””â”€â”€ public/                  # Static assets
```

---

## ğŸ”’ Security Features

- **Row-Level Security (RLS)** - Secure data access at database level
- **JWT Authentication** - Secure API endpoints
- **API Key Management** - Controlled access with scopes
- **PII Detection** - Automatic sensitive data detection
- **Audit Logging** - Track all user actions (AI Decision Audit)
- **CSRF Protection** - Cross-site request forgery prevention
- **Rate Limiting** - Configurable limits (50 daily / 1000 monthly)
- **Role-Based Access Control** - Admin, user, and viewer roles
- **Workspace Isolation** - Data separation by workspace

---

## ğŸ“Š Database Schema

The platform uses the following main tables:

### Core Tables

- `profiles` - User profiles and settings
- `workspaces` - Team workspaces
- `workspace_members` - Workspace membership
- `datasets` - Uploaded data files
- `data_points` - Individual data records

### Decision Memory (New)

- `decision_memory` - System of record for AI-assisted decisions

### AI & ML Tables

- `chat_conversations` - AI chat sessions
- `chat_messages` - Chat message history
- `embeddings` - Vector embeddings for RAG
- `ml_predictions` - ML prediction history
- `ml_models` - ML model metadata
- `ai_response_audits` - AI confidence audit logs

### Automation Tables

- `automation_rules` - Rule definitions
- `automation_execution_logs` - Rule execution history
- `workspace_usage` - Usage metrics tracking

### Security Tables

- `api_keys` - API key management
- `notifications` - User notifications

See `/supabase/migrations/` for complete schema.

---

## ğŸ¤ Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“ License

This project is licensed under the MIT License - see the LICENSE file for details.

---

## ğŸ™ Acknowledgments

- **Supabase** - Backend infrastructure
- **Google AI** - Gemini API for RAG
- **TensorFlow.js** - Browser-based ML
- **Shadcn UI** - Beautiful component library
- **Recharts** - Data visualization
- **Playwright** - E2E testing
- **Vitest** - Unit testing

---

## ğŸ“§ Support

For support and questions:

- ğŸ“§ Email: <d.v.satyanarayana260@gmail.com>
- ğŸ“– Documentation: [docs.bizstratosphere.com](https://docs.bizstratosphere.com)
- ğŸ› Issues: [GitHub Issues](https://github.com/Satya136-dvsn/biz-stratosphere/issues)

---

Built with â¤ï¸ by the Biz Stratosphere Team
*From "raw data" to "trustworthy decisions."*
